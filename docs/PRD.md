
# # 📄 产品需求文档 (PRD): 关系状态感知 App (v1.0)

| 属性 | 内容 |
| --- | --- |
| **产品目标** | 通过持续授权实现 1 vs 1 关系中的透明感知与自动报备 |
| **核心逻辑** | 完全无感的单向监视（监视方操作不触达被监视方感官） |
| **技术基调** | 高频后台保活 + 深度系统权限调用 |

---

## ## 1. 账号与关系管理 (P0)

* **登录体系**：
* 采用手机号 + 验证码登录，单设备绑定。
* 更换设备需重新验证，原设备自动解绑注销。


* **1 vs 1 绑定逻辑**：
* **绑定码**：用户生成 6 位唯一绑定码，另一方输入即建立关系。
* **解绑规则**：默认需双方确认，但必须预留清空数据后的单向强行解除出口。



---

## ## 2. 权限引导与存活看板 (核心基础)

* **剧场化引导流**：分步骤引导开启以下权限，且每步需清晰说明用途：
1. **定位 (Always Allow)**：核心位置同步。
2. **通知权限**：接收报备与状态异常警报。
3. **自启动/电池优化白名单**：确保 App 长期后台驻留，对抗系统杀进程。
4. **使用情况访问 (Android)**：获取 App 使用时长与解锁记录。


* **权限状态可见性 (Anti-Escape)**：
* 实时向监视方展示被监视方的权限存活状态：定位开关、通知状态、App 是否卸载。
* 状态变更（如对方手动关闭定位）必须在 60 秒内通过 Push 通知触达监视方。



---

## ## 3. 实时感知模块 (P0)

* **实时定位与地图**：
* 支持标准地图与卫星地图切换。
* 实时计算双方距离，单位自动切换（米/公里）。


* **设备状态监控**：
* **电量**：实时显示电量（±10%误差）。
* **网络**：显示 WiFi 名称或 4G/5G 流量状态。


* **自动行为推断**：
* **地点报备**：自动识别到达/离开预设地点（家、公司等）并推送。
* **出行状态**：基于加速度与速度变化，自动推送“上车/下车/运动”提醒。
* **平安提醒**：系统根据每日固定轨迹自动生成平安反馈。



---

## ## 4. 会员审计功能 (商业化 P1)

* **商业化体系**：
* **定价**：双人月度 (38元) / 季度 (68元) / 年度 (128元)。


* **深度行为记录**：
* **轨迹回放**：记录全天移动路径、停留点时长、移动速度。
* **解锁审计**：记录手机每次解锁的具体时间点及每日总次数。
* **屏幕使用**：展示各 App 使用时长分布（仅限 Android 深度实现）。
* **反向监视记录 (Lookus记录)**：记录监视方查看定位的具体时间与次数。
* **敏感动作记录**：关闭定位、手动退出 App 的精确时间日志。



---

## ## 5. 安全与紧急联系 (P1)

* **一键紧急消息**：
* 触发后，即使对方手机静音或通话中，也将通过自定义强提醒音（如警报声）震动提醒。



---

## ## 6. 开发者核心逻辑 (Agent 执行指南)

* **数据同步频率**：
* 活跃期：每 1 分钟同步一次坐标及状态。
* 静止期：基于地理围栏（Geofencing）变化触发同步，节约功耗。


* **异常处理**：
* 若 5 分钟未收到被监视方心跳包，状态设为“未知/失联”，立即通知监视方。


* **隐私协议**：
* 虽然推行单向监视，但所有数据抓取必须符合 Android/iOS 隐私声明，确保权限开启是基于用户手动点击。

